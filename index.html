<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
         rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <title>Course Project 2</title>
      <link rel="stylesheet" href="app.css" />
      <!--CSS -->
      <style type="text/css">
         /*    .row div {
         border: 2px solid black;
         }
         */
      </style>
      <!--CSS -->
   </head>
   <body>
      <div class="container">
         <div id="header" class="mt-3 text-light">
            <h1 class="display-2 mb-3">Hotel Guestbook</h1>
            <p class="col-8">More than a building. The Hotel is a whole new way to experience Toronto. 
               Itâ€™s eating, sleeping, working and playing in a one of a kind destination
               with a distinctively creative soul. 
               Please tell us about your stay.
         </div>
         <!-- alert message -->
         <div class="alert alert-warning mt-3" id="alert" role="alert">
            Something went wrong! Please check your entry.
         </div>
         <!-- form -->
         <form>
            <div class="row mt-3 mb-3">
               <label for="email" class="col-sm-2 col-form-label">Email</label>
               <div class="col-sm-10">
                  <input type="email" class="form-control" id="email">
               </div>
            </div>
            <div class="row mb-3">
               <label for="name" class="col-sm-2 col-form-label">Name</label>
               <div class="col-sm-10">
                  <input type="text" class="form-control" id="name">
               </div>
            </div>
            <div class="row mb-3">
               <label for="country" class="col-sm-2 col-form-label">Country</label>
               <div class="col-sm-10">
                  <input type="country" class="form-control" id="country">
               </div>
            </div>
            <div class="row mb-3">
               <label for="message" class="col-sm-2 col-form-label">Message</label>
               <div class="col-sm-10">
                  <textarea type="text" class="form-control" id="message"></textarea>
               </div>
            </div>
            <!-- rating buttons -->
            <div class="row mb-3">
               <label class="col-sm-2 col-form-label"> Rating</label>
               <div class="col-sm-10">
                     <input class="form-check-input" type="radio" name="rating" id="rating-1" value="1">
                     <label for="rating-1" class="form-check-label">1</label>
                     <input class="form-check-input" type="radio" name="rating" id="rating-2" value="2">
                     <label for="rating-2" class="form-check-label">2</label>
                     <input class="form-check-input" type="radio" name="rating" id="rating-3" value="3">
                     <label for="rating-3" class="form-check-label">3</label>
                     <input class="form-check-input" type="radio" name="rating" id="rating-4" value="4">
                     <label for="rating-4" class="form-check-label">4</label>
                     <input class="form-check-input" type="radio" name="rating" id="rating-5" value="5">
                     <label for="rating-5" class="form-check-label">5</label>
               </div>
            </div>
            <!-- rating buttons end -->
            <div class="row">
               <div class="col-sm-12 text-center">
                  <button type="submit" id="send" class="btn btn-secondary">Submit</button>
         </form>
         <!-- form end -->
         </div>
         </div>
      
      <!-- container (reviews)-->
      <div class="container mt-5">
      <div class="row" id="guestbook">
      </div>
      
      <!-- jquery -->
      <script
         src="https://code.jquery.com/jquery-3.6.0.min.js"
         integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
         crossorigin="anonymous"></script>
      <script type="text/javascript">
         $(document).ready(function(){
             $("#alert").hide();
         
             // send button event listner
             $("#send").on('click', function(e){
             e.preventDefault();
         
             //check user inout
             if ( $("#email").val() == '' || $("#name").val() == '' || $("#message").val() == '' || $("#country").val() == '' || $("input[name=rating]:checked").val() == undefined) {
                 $("#alert").show();
             } else {
                 //hide the alert message
                 $("#alert").hide();
         
                 //get todays date and time
                 var today = new Date();
                 var today_str = today.toDateString();
         
                 //get the star rating
                 var the_rating = $("input[name=rating]:checked").val();


                 var star_html='';
                 for (counter=1; counter<=the_rating;counter++) {
                     star_html += '<img src="star.png" width="16" alt="">';

                 }
         
                 var column_html = `
         
                  <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12">
                     <!-- card start -->
                     <div class="card mb-3">
                      <div class="card-body">
                         <h5 class="card-title">`+$("#country").val()+`</h5>
                          <h6 class="card-subtitle mb-2 text-muted">`+$("#name").val()+`</h6>
                          <p class="card-text">`+$("#message").val()+`</p>
                         <a href="#" class="card-link">`+$("#email").val()+`</a>
                         <p>`+today_str+`</p>
                     <div class="text-end">`+star_html+`</div>
                      </div>
                     </div>
                  </div
         
                   `;
         
                 $("#guestbook").append(column_html); 
        
         
             }
         
             });
         
         });
         
      </script>   
   </body>
</html>